# [코딩앙마] 자바스크립트 중급 강좌

## 1. 변수, 호이스팅, TDZ(Temporal Dead Zone)

### 변수
- let, const ~ ES6에서 신설
- var

### var는 한번 선언된 변수를 다시 선언할 수 있음

- var 변수 선언
```javascript
var name = 'Mike';
console.log(name);  // Mike

var name = 'Jane';  // 두번째 선언
console.log(name);  // Jane 
```

- let 변수 선언
```javascript
let name = 'Mike';
console.log(name);  // Mike

let name = 'Jane';  // 두번째 선언 - 오류 발생
console.log(name);  // Jane 
```

### var는 선언하기 전에 사용할 수 있다.

- 호이스팅(hoisting) : 변수 선언(var name;)만 위로 올림
                    : 스코프 내부 어디서든 변수 선언은 최상위에 선언된 것 처럼 행동
```javascript
console.log(name);  // undefined : 선언은 호이스팅 되지만 값은 호이스팅 되지 않음. 오류는 발생하지 않음
var name = 'Mike';
```

```javascript
console.log(name);  // undefined
var name = 'Mike';
```

- let 
```javascript
console.log(name);  // ReferenceError 
let name = 'Mike';
```

#### let 은 var와 같이 호이스팅 됮만 왜 에러가 날까/
- Temporal Dead Zone(TDZ)
    - TDZ 영역에 있는 변수들은 사용할 수 없다.
    - let 과 const는 TDZ의 영향을 받음. 할당을 하기전에 사용할 수 없음

- 호이스팅 관련 에러 발생 주의(많은 개발자가 착각 함)
    - 호이스팅은 스코프 내에서 발생 함. let도 호이스팅 발생

```javascript
let age = 30;

function showAge() {
    console.log(age);   // 오류 발생
    let age = 20;   
}
```

- 위 코드는 아래처럼 호이스팅 됨
```javascript
let age = 30;

function showAge() {
    let age;                // 호이스팅 됨
    console.log(age);       // 오류 발생
    let age = 20;   
}
```


### 변수의 생성 과정
1. 선언단계
2. 초기화 단계
3. 할당 단계

- var
    - 1단계 : 선언 및 초기화 단계가 동시에 발생 ~ 초기화는 undefined를 할당하는 단계
    - 2단계 : 할당 단계

- let
    - 1단계 : 선언단계
    - 2단계 : 초기화 단계
    - 3단계 : 할당 단계

- const
    - 1단계 : 선언 + 초기화 + 할당

```javascript
 let name;
 name = 'Mike';

 var age;
 age = 30;

 const gender;      // 오류 발생
 gender = 'male';
```

### 스코프(Scope)
- var : 함수 스코프(function-scoped) - 함수 내에서 선언된 변수만 지역변수가 됨
- let, const : 블록 스코프(block-scoped)
    - 블록 스코프 : 함수, if문, for문, while문, try/catch문 등
        - function add() { // Block-level Scope }, if() { // Block-level Scope }, for() { // Block-level Scope }

- var Scope
```javascript
const age = 30;

if(age>19) {
    var txt = '성인';
}
console.log(txt);   // 성인
```

- var 함수 스코프
```javascript
function add(num1, num2) {
    var result = num1 + num2;
}
add(2,3);
console.log(result);    // 오류 발생
```


## 2. 생성자 함수

### 객체 리터럴
```javascript
let user = {
    name: 'Mike',
    age: 30,
}
```

### 생성자 함수

```javascript
function User(name, age) {
    this.name = name;
    this.age = age;
}

let user1 = new User('Mike', 30);
let user2 = new User('Jane', 22);
let user3 = new User('Tom', 17);
```

- 생성자 method 추가
```javascript
function User(name, age) {
    this.name = name;
    this.age = age;
    this.sayName = function() {
        console.log
    }
}
```
